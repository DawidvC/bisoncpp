%filenames parser

%scanner ../scanner/scanner.h

%baseclass-preinclude preheaders.h

%token  BASECLASS_HEADER BASECLASS_PREINCLUDE BLOCK CLASS_HEADER CLASS_NAME
        DEBUGFLAG ERROR_VERBOSE EXPECT FILENAMES IDENTIFIER
        IMPLEMENTATION_HEADER LEFT LINES LOCATIONSTRUCT LSP_NEEDED
        LTYPE NAMESPACE NEG_DOLLAR NONASSOC NUMBER PARSEFUN_SOURCE PREC PRINT 
        PSTRING QUOTE REQUIRED RIGHT SCANNER_INCLUDE SCANNER_TOKEN_FUNCTION
        START STRING STYPE TOKEN TWO_PERCENTS TYPE UNION XSTRING
        TARGET_DIRECTORY FLEXCPP

%union
{
    std::string                *sp;
    FBB::PTag                  *tag;
    int                         type;
    bool                        logic;
};

%type <sp>      identifier
%type <tag>     _productionElement _productionElements
%type <type>    _pxstring _pushPrecedence _precSpec 
%type <logic>   optNumber

%%

input:
    directives
    _two_percents
    rules
    optTwo_percents
;

_two_percents:
    TWO_PERCENTS
    {
        expectRules();
    }
;

%include inc/identifier
%include inc/typename
%include inc/opt
%include inc/directives
%include inc/rules
